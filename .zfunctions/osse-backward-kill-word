if [[ $LBUFFER[-1] = ' ' ]]
then
    LBUFFER=${LBUFFER%%[\ ]#}
    zle osse-backward-kill-word
elif [[ $LBUFFER[-1] = [^a-zA-Z0-9_] ]]
then
    LBUFFER=${LBUFFER%%[^a-zA-Z0-9_\ ]#}
else
    LBUFFER=${LBUFFER%%[a-zA-Z0-9_]#}
fi

# vim: ft=zsh
